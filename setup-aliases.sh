#!/bin/bash

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
ALIASES_FILE="$SCRIPT_DIR/.ddev_aliases"
BASHRC="$HOME/.bashrc"

if [ ! -f "$ALIASES_FILE" ]; then
    echo "âŒ KhÃ´ng tÃ¬m tháº¥y file .ddev_aliases"
    exit 1
fi

echo "ğŸ”§ Äang cÃ i Ä‘áº·t DDEV aliases..."

if grep -q "\.ddev_aliases" "$BASHRC" 2>/dev/null; then
    echo "âœ… Aliases Ä‘Ã£ Ä‘Æ°á»£c thÃªm vÃ o ~/.bashrc trÆ°á»›c Ä‘Ã³"
else
    echo "" >> "$BASHRC"
    echo "# DDEV Aliases - Auto-generated by setup-aliases.sh" >> "$BASHRC"
    echo "if [ -f \"$ALIASES_FILE\" ]; then" >> "$BASHRC"
    echo "    source \"$ALIASES_FILE\"" >> "$BASHRC"
    echo "fi" >> "$BASHRC"
    echo "âœ… ÄÃ£ thÃªm aliases vÃ o ~/.bashrc"
fi

source "$ALIASES_FILE"
echo "âœ… Aliases Ä‘Ã£ Ä‘Æ°á»£c náº¡p!"

echo ""
echo "ğŸ“ CÃ¡c alias Ä‘Ã£ sáºµn sÃ ng sá»­ dá»¥ng:"
echo "   ds, dst, dr, ddes, dcom, dmage, ..."
echo ""
echo "ğŸ’¡ Cháº¡y 'source ~/.bashrc' hoáº·c má»Ÿ terminal má»›i Ä‘á»ƒ sá»­ dá»¥ng."
